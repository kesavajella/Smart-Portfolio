<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Project Details</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  <div class="navbar">
    <h1>Jella Kesava Krishna Pavan</h1>
    <ul>
      <li><a href="index.html">Home</a></li>
      <li><a href="projects.html">Projects</a></li>
      <li><a href="contact.html">Contact</a></li>
    </ul>
  </div>
</header>

<section class="detail-container reveal" style="margin-top:120px">

  <a href="projects.html" class="btn outline">← Back</a>

  <div class="detail-grid">
    <div class="detail-media" id="media"></div>

    <div class="detail-info">
      <h2 id="title"></h2>
      <p id="desc"></p>

      <h4>Technologies Used</h4>
      <div class="techs" id="techs"></div>

      <div class="detail-actions">
        <a id="github" target="_blank" class="btn dark">GitHub</a>
        <a id="live" target="_blank" class="btn fill">Live Demo</a>
      </div>
    </div>
  </div>
</section>

<footer>
  © 2025 Jella Kesava Krishna Pavan
</footer>

<!-- ================= FIREBASE (UNCHANGED) ================= -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.3/firebase-app.js";
import { getFirestore, doc, getDoc } 
from "https://www.gstatic.com/firebasejs/10.12.3/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCFMubpD-kADaPCfpRNZltcvcUOF8FxM2Q",
  authDomain: "portfolio-k78615.firebaseapp.com",
  projectId: "portfolio-k78615",
  storageBucket: "portfolio-k78615.appspot.com",
  messagingSenderId: "964001708850",
  appId: "1:964001708850:web:fe381d8843621139aab52b"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

const id = new URLSearchParams(window.location.search).get("id");
if(!id) location.href="projects.html";

const snap = await getDoc(doc(db,"projects",id));
if(!snap.exists()) location.href="projects.html";

const p = snap.data();

document.getElementById("title").textContent = p.title;
document.getElementById("desc").textContent = p.description;
document.getElementById("techs").innerHTML =
  (p.technologies||[]).map(t=>`<span class="tech">${t}</span>`).join("");

document.getElementById("github").href = p.github || "#";
document.getElementById("live").href = p.live || "#";

document.getElementById("media").innerHTML =
  p.video ? `<video src="${p.video}" controls></video>`
  : p.image ? `<img src="${p.image}">`
  : "";
</script>

<!-- SCROLL REVEAL -->
<script>
const r=document.querySelector(".reveal");
window.addEventListener("scroll",()=>{
  if(r.getBoundingClientRect().top<window.innerHeight-80){
    r.classList.add("show");
  }
});
</script>

</body>
</html>
